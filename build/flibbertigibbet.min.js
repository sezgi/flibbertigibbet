var FacebookButton=React.createClass({displayName:"FacebookButton",render:function(){return Parse.User.current()?React.DOM.a({className:"logout-link",href:"#"},"Log out"):React.DOM.a({className:"login-button",href:"#"},"Log in with Facebook")}});React.renderComponent(FacebookButton(null),$("#main")[0]),$(".login-button").click(function(a){a.preventDefault(),Parse.FacebookUtils.logIn("publish_actions,email",{success:function(a){if(!a.existed()){var b=a.attributes.authData.facebook.access_token;$.ajax({url:"https://graph.facebook.com/v2.0/me",data:{access_token:b},success:function(b){_.each(_.keys(b),function(c){"id"!=c&&a.set(c,b[c])}),a.save()},error:function(a,b){console.log(b)}})}},error:function(){console.log("User cancelled the Facebook login or did not fully authorize.")}}).then(function(){location.reload()})}),$(".logout-link").click(function(a){a.preventDefault(),Parse.User.logOut(),location.reload()});
//# sourceMappingURL=flibbertigibbet.map